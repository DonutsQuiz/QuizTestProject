{"version":3,"sources":["file:///Users/takeda.naomichi/TestQuizSecond/assets/Script/Game/Manager/QuizModalManager.ts"],"names":["_decorator","Component","Node","instantiate","Prefab","ChoicesModal","QuestionModal","ResultModal","ccclass","property","ModalType","None","Question","Choices","Result","QuizModalManager","question","choices","result","Instance","instance","start","temp","questionPrefab","setParent","canvas","getComponent","choicesPrefab","resultPrefab","update","deltaTime","OnUpdate","ChangeModal","nextType","node","active","GetQuestionModal","GetChoicesModal","GetResultModal"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, instantiate, Prefab, Canvas } from 'cc';\nimport { ChoicesModal } from '../Modal/ChoicesModal';\nimport { QuestionModal } from '../Modal/QuestionModal';\nimport { ResultModal } from '../Modal/ResultModal';\nconst { ccclass, property } = _decorator;\n\nconst ModalType = {\n    None     : 'None',\n    Question : 'Question',\n    Choices  : 'Choices',\n    Result   : 'Result',\n} as const;\n\nexport type ModalType = typeof ModalType[keyof typeof ModalType];\n\n@ccclass('QuizModalManager')\nexport class QuizModalManager extends Component {\n\n    private static instance : QuizModalManager;\n    \n    public static Instance() : QuizModalManager {\n        if(!QuizModalManager.instance){\n            QuizModalManager.instance = new QuizModalManager();\n        }\n\n        return QuizModalManager.instance;\n    }\n\n    @property(Node)\n    canvas : Node = null;\n    @property(Prefab)\n    private questionPrefab : Prefab = null;\n    @property(Prefab)\n    private choicesPrefab : Prefab = null;\n    @property(Prefab)\n    private resultPrefab : Prefab = null;\n\n    private question : QuestionModal = null;\n    private choices : ChoicesModal = null;\n    private result : ResultModal = null;\n\n    start() {\n        QuizModalManager.instance = this;\n\n        var temp = instantiate(this.questionPrefab);\n        temp.setParent(this.canvas);\n        this.question = temp.getComponent(QuestionModal);\n\n        temp = instantiate(this.choicesPrefab);\n        temp.setParent(this.canvas);\n        this.choices = temp.getComponent(ChoicesModal);\n\n        temp = instantiate(this.resultPrefab);\n        temp.setParent(this.canvas);\n        this.result = temp.getComponent(ResultModal);\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    public OnUpdate(deltaTime : number){\n        \n    }\n\n    public ChangeModal(nextType : ModalType){\n        if(nextType === 'Question'){\n            this.result.node.active = false;\n            this.question.node.active = true;\n        }\n        else if(nextType === 'Choices'){\n            this.question.node.active = false;\n            this.choices.node.active = true;\n        }\n        else if(nextType === 'Result'){\n            this.choices.node.active = false;\n            this.result.node.active = true;\n        }\n    }\n\n    public GetQuestionModal() : QuestionModal{\n        return this.question;\n    }\n    public GetChoicesModal() : ChoicesModal{\n        return this.choices;\n    }\n    public GetResultModal() : ResultModal{\n        return this.result;\n    }\n}\n\n"]}
{"version":3,"sources":["file:///Users/takeda.naomichi/Desktop/QuizTestProject/assets/Script/Game/Modal/BetModal.ts"],"names":["_decorator","Component","Node","Slider","Button","Label","GameManager","ccclass","property","BetModal","coins","betValue","criteriaPoint","sliderMax","isDecide","start","Instance","GetPlayerInfo","decideButton","node","on","EventType","CLICK","self","active","CheckIsDecide","closeButton","betButtonList","betSlider","progress","update","deltaTime","BetSlider","Math","round","valueLabel","string","toString","SetIsDecide","dec","GetIsDecide","Array"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Slider, Button, Label, labelAssembler, convertUtils, math, isUnicodeCJK } from 'cc';\nimport { GameManager } from '../Manager/GameManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('BetModal')\nexport class BetModal extends Component {\n\n    @property(Node)\n    private self : Node = null;\n    @property(Slider)\n    private betSlider : Slider = null;\n    @property(Button)\n    private betButtonList : Array<Button> = new Array<Button>();\n    @property(Button)\n    private decideButton : Button = null;\n    @property(Label)\n    private valueLabel : Label = null;\n    @property(Button)\n    private closeButton : Button = null;\n\n\n    private coins : number = 20000; // 所持コイン\n    private betValue : number = 0;\n    private criteriaPoint : number = 0;\n    private sliderMax : number = 0;\n    private isDecide : boolean = false;\n\n    start() {\n        this.coins = GameManager.Instance().GetPlayerInfo().coins;\n        this.sliderMax = this.coins / 10;\n        this.criteriaPoint = 1.0 / (this.coins / 10);\n        this.decideButton.node.on(Button.EventType.CLICK, function(){this.self.active = false; this.CheckIsDecide();}, this);\n        this.closeButton.node.on(Button.EventType.CLICK, function(){this.self.active = false;}, this);\n        this.betButtonList[0].node.on(Button.EventType.CLICK, function(){this.betSlider.progress += this.criteriaPoint;}, this);\n        this.betButtonList[1].node.on(Button.EventType.CLICK, function(){this.betSlider.progress += this.criteriaPoint * 10;}, this);\n        this.betButtonList[2].node.on(Button.EventType.CLICK, function(){this.betSlider.progress += this.criteriaPoint * 100;}, this);\n        this.betButtonList[3].node.on(Button.EventType.CLICK, function(){this.betSlider.progress  = 1.0;}, this);\n    }\n\n    update(deltaTime: number) {\n        this.BetSlider();\n    }\n\n    private BetSlider(){\n        if(this.betSlider.progress >= 1.0){\n            this.betSlider.progress = 1.0;\n        }\n        this.betValue = Math.round(this.sliderMax * this.betSlider.progress) * 10;\n        this.valueLabel.string = this.betValue.toString();\n    }\n\n\n\n    public SetIsDecide(dec : boolean){\n        this.isDecide = dec;\n    }\n\n    public GetIsDecide() :boolean {\n        return this.isDecide;\n    }\n\n    private CheckIsDecide(){\n        if(this.betValue <= 0){\n            this.isDecide = false;\n        }\n        else{\n            this.isDecide = true;\n        }\n    }\n}\n\n"]}
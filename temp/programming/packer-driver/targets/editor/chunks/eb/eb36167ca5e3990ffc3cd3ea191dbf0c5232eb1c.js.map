{"version":3,"sources":["file:///Users/takeda.naomichi/TestQuizSecond/assets/Script/Game/Modal/ResultModal.ts"],"names":["_decorator","Component","Button","Label","Color","Sprite","GameManager","QuizModalManager","ccclass","property","ResultModal","isNext","debugClientMode","start","nextButton","node","on","EventType","CLICK","Instance","ChangeModal","update","deltaTime","DebugModalUpdate","SetInfo","choice","data","mAnswer","resultLabel","string","color","coinLabel","active","GetClientMode","SetAnswerSprite","sprite","answerSprite","spriteFrame","SetAnswerLabel","ansnum","label","answerLabel","SetCoinLabel","coin"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Button, labelAssembler, Label, SpriteFrame, Color, Sprite } from 'cc';\nimport { GameManager } from '../Manager/GameManager';\nimport { QuizModalManager } from '../Manager/QuizModalManager';\nimport { QuizData } from '../Quiz/Data/QuizData';\nimport { QuestionModal } from './QuestionModal';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ResultModal')\nexport class ResultModal extends Component {\n\n    @property(Button)\n    private nextButton : Button = null;\n    @property(Label)\n    private resultLabel : Label = null;\n    @property(Label)\n    private answerLabel : Label = null;\n    @property(Sprite)\n    private answerSprite : Sprite = null;\n    @property(Label)\n    private coinLabel : Label = null;\n\n    public isNext = false;\n\n    private debugClientMode : number = 0;\n\n\n    start() {\n        this.nextButton.node.on(Button.EventType.CLICK, function(){\n            QuizModalManager.Instance().ChangeModal('Question');\n            this.isNext = true;\n        }, this)\n    }\n\n    update(deltaTime : number){\n        this.DebugModalUpdate();\n    }\n\n    public SetInfo(choice : number, data : QuizData){\n        if(choice === data.mAnswer){\n            this.resultLabel.string = \"正解\";\n            this.resultLabel.color = new Color(0,255,0,255);\n            this.coinLabel.node.active = true;\n        }\n        else{\n            this.resultLabel.string = \"不正解\";\n            this.resultLabel.color = new Color(255,0,0,255);\n            this.coinLabel.node.active = false;\n        }\n        \n        if(GameManager.Instance().GetClientMode() === 0){\n            this.nextButton.node.active = true;\n            this.coinLabel.node.active = false;\n            this.debugClientMode = 0;\n        }\n        else{\n            this.nextButton.node.active = false;\n            this.coinLabel.node.active = true;\n            this.debugClientMode = 1;\n        }\n    }\n\n    public SetAnswerSprite(sprite : SpriteFrame){\n        this.answerSprite.spriteFrame = sprite;\n    }\n\n    public SetAnswerLabel(ansnum : number, label : string){\n        if(ansnum === 0){\n            this.answerLabel.string = \"A.\";\n        }\n        else if(ansnum === 1){\n            this.answerLabel.string = \"B.\";\n        }\n        else if(ansnum === 2){\n            this.answerLabel.string = \"C.\";\n        }\n        else if(ansnum === 3){\n            this.answerLabel.string = \"D.\";\n        }\n        else if(ansnum === 4){\n            this.answerLabel.string = \"E.\";\n        }\n        else if(ansnum === 5){\n            this.answerLabel.string = \"F.\";\n        }\n        this.answerLabel.string += label;\n    }\n\n    public SetCoinLabel(coin : string){\n        this.coinLabel.string = coin + \"コイン獲得!!\";\n    }\n\n    private DebugModalUpdate(){\n        if(GameManager.Instance().GetClientMode() != this.debugClientMode){\n\n            if(GameManager.Instance().GetClientMode() === 0){\n                this.nextButton.node.active = true;\n                this.coinLabel.node.active = false;\n                this.debugClientMode = 0;\n            }\n            else{\n                this.nextButton.node.active = false;\n                this.coinLabel.node.active = true;\n                this.debugClientMode = 1;\n            }\n        }\n    }\n}\n\n"]}
{"version":3,"sources":["file:///Users/takeda.naomichi/Desktop/QuizTestProject/assets/Script/Game/Modal/ResultModal.ts"],"names":["_decorator","Component","Button","Label","Color","Sprite","UITransform","Size","GameManager","QuizModalManager","ccclass","property","ResultModal","isNext","debugClientMode","start","nextButton","node","on","EventType","CLICK","Instance","ChangeModal","update","deltaTime","DebugModalUpdate","SetInfo","choice","data","GetGameInfo","qAnswer","resultLabel","string","color","coinLabel","active","GetClientMode","SetAnswerSprite","sprite","answerImage","spriteFrame","getComponent","setContentSize","SetAnswerLabel","ansnum","label","answerSentence","SetCoinLabel","coin"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Button, labelAssembler, Label, SpriteFrame, Color, Sprite, UITransform, Vec2, Size } from 'cc';\nimport { ClientMode, GameManager } from '../Manager/GameManager';\nimport { QuizModalManager } from '../Manager/QuizModalManager';\nimport { QuizData } from '../Quiz/Data/QuizData';\nimport { QuestionModal } from './QuestionModal';\nconst { ccclass, property } = _decorator;\n\n@ccclass('ResultModal')\nexport class ResultModal extends Component {\n\n    @property(Button)\n    private nextButton : Button = null;\n    @property(Label)\n    private resultLabel : Label = null;\n    @property(Label)\n    private answerLabel : Label = null;\n    @property(Sprite)\n    private answerSprite : Sprite = null;\n    @property(Label)\n    private coinLabel : Label = null;\n\n    @property(Label)\n    answerSentence : Label = null;\n    @property(Sprite)\n    answerImage : Sprite = null;\n\n    public isNext = false;\n\n    private debugClientMode : ClientMode = 'Liver';\n\n    start() {\n        this.nextButton.node.on(Button.EventType.CLICK, function(){\n            QuizModalManager.Instance().ChangeModal('Question');\n            this.isNext = true;\n        }, this)\n    }\n\n    update(deltaTime : number){\n        this.DebugModalUpdate();\n    }\n\n    public SetInfo(choice : number, data : QuizData){\n        if(choice === GameManager.Instance().GetGameInfo().qAnswer){\n            this.resultLabel.string = \"正解\";\n            this.resultLabel.color = new Color(0,255,0,255);\n            this.coinLabel.node.active = true;\n        }\n        else{\n            this.resultLabel.string = \"不正解\";\n            this.resultLabel.color = new Color(255,0,0,255);\n            this.coinLabel.node.active = false;\n        }\n        \n        if(GameManager.Instance().GetClientMode() === 'Liver'){\n            this.nextButton.node.active = true;\n            this.coinLabel.node.active = false;\n            this.debugClientMode = 'Liver';\n        }\n        else{\n            this.nextButton.node.active = false;\n            this.coinLabel.node.active = true;\n            this.debugClientMode = 'User';\n        }\n    }\n\n    public SetAnswerSprite(sprite : SpriteFrame){\n        this.answerImage.spriteFrame = sprite;\n        this.answerImage.getComponent(UITransform).setContentSize(new Size(36,36));\n    }\n\n    public SetAnswerLabel(ansnum : number, label : string){\n        this.answerSentence.string = \"答えは\";\n\n        if(ansnum === 0){\n            this.answerSentence.string += \"A.\";\n        }\n        else if(ansnum === 1){\n            this.answerSentence.string += \"B.\";\n        }\n        else if(ansnum === 2){\n            this.answerSentence.string += \"C.\";\n        }\n        else if(ansnum === 3){\n            this.answerSentence.string += \"D.\";\n        }\n        else if(ansnum === 4){\n            this.answerSentence.string += \"E.\";\n        }\n        else if(ansnum === 5){\n            this.answerSentence.string += \"F.\";\n        }\n        this.answerSentence.string += \"!!!\";\n    }\n\n    public SetCoinLabel(coin : string){\n        this.coinLabel.string = coin + \"コイン獲得!!\";\n    }\n\n    private DebugModalUpdate(){\n        if(GameManager.Instance().GetClientMode() != this.debugClientMode){\n\n            if(GameManager.Instance().GetClientMode() === 'Liver'){\n                this.nextButton.node.active = true;\n                this.coinLabel.node.active = false;\n                this.debugClientMode = 'Liver';\n            }\n            else{\n                this.nextButton.node.active = false;\n                this.coinLabel.node.active = true;\n                this.debugClientMode = 'User';\n            }\n        }\n    }\n}\n\n"]}
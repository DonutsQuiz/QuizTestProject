{"version":3,"sources":["file:///Users/takeda.naomichi/Desktop/QuizTestProject/assets/Script/Game/Manager/QuizModalManager.ts"],"names":["_decorator","Component","Node","instantiate","Prefab","ChoicesModal","OverallResultModal","QuestionModal","ResultModal","ccclass","property","ModalType","None","Question","Choices","Result","Overall","QuizModalManager","question","choices","result","overall","Instance","instance","start","temp","questionPrefab","setParent","canvas","active","getComponent","choicesPrefab","resultPrefab","overallPrefab","update","deltaTime","OnUpdate","ChangeModal","nextType","node","GetQuestionModal","GetChoicesModal","GetResultModal","GetOverallResultModal"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, instantiate, Prefab, Canvas, Button, Label } from 'cc';\nimport { ChoicesModal } from '../Modal/ChoicesModal';\nimport { OverallResultModal } from '../Modal/OverallResultModal';\nimport { QuestionModal } from '../Modal/QuestionModal';\nimport { ResultModal } from '../Modal/ResultModal';\nconst { ccclass, property } = _decorator;\n\nconst ModalType = {\n    None     : 'None',\n    Question : 'Question',\n    Choices  : 'Choices',\n    Result   : 'Result',\n    Overall  : 'Overall',\n} as const;\n\nexport type ModalType = typeof ModalType[keyof typeof ModalType];\n\n@ccclass('QuizModalManager')\nexport class QuizModalManager extends Component {\n\n    private static instance : QuizModalManager;\n    \n    public static Instance() : QuizModalManager {\n        if(!QuizModalManager.instance){\n            QuizModalManager.instance = new QuizModalManager();\n        }\n\n        return QuizModalManager.instance;\n    }\n\n    @property(Node)\n    canvas : Node = null;\n    @property(Prefab)\n    private questionPrefab : Prefab = null;\n    @property(Prefab)\n    private choicesPrefab : Prefab = null;\n    @property(Prefab)\n    private resultPrefab : Prefab = null;\n    @property(Prefab)\n    private overallPrefab : Prefab = null;\n\n    private question : QuestionModal = null;\n    private choices : ChoicesModal = null;\n    private result : ResultModal = null;\n    private overall : OverallResultModal = null;\n\n    start() {\n        QuizModalManager.instance = this;\n\n        var temp = instantiate(this.questionPrefab);\n        temp.setParent(this.canvas);\n        temp.active = false;\n        this.question = temp.getComponent(QuestionModal);\n\n        temp = instantiate(this.choicesPrefab);\n        temp.setParent(this.canvas);\n        temp.active = false;\n        this.choices = temp.getComponent(ChoicesModal);\n\n        temp = instantiate(this.resultPrefab);\n        temp.setParent(this.canvas);\n        temp.active = false;\n        this.result = temp.getComponent(ResultModal);\n\n        temp = instantiate(this.overallPrefab);\n        temp.setParent(this.canvas);\n        temp.active = false;\n        this.overall = temp.getComponent(OverallResultModal);\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    public OnUpdate(deltaTime : number){\n        \n    }\n\n    public ChangeModal(nextType : ModalType){\n        if(nextType === 'Question'){\n            this.result.node.active = false;\n            this.overall.node.active = false;\n            this.question.node.active = true;\n        }\n        else if(nextType === 'Choices'){\n            this.question.node.active = false;\n            this.choices.node.active = true;\n        }\n        else if(nextType === 'Result'){\n            this.choices.node.active = false;\n            this.result.node.active = true;\n        }\n        else if(nextType === 'Overall'){\n            this.question.node.active = false;\n            this.choices.node.active = false;\n            this.overall.node.active = true;\n        }\n    }\n\n    public GetQuestionModal() : QuestionModal{\n        return this.question;\n    }\n    public GetChoicesModal() : ChoicesModal{\n        return this.choices;\n    }\n    public GetResultModal() : ResultModal{\n        return this.result;\n    }\n    public GetOverallResultModal() : OverallResultModal{\n        return this.overall;\n    }\n}\n\n"]}